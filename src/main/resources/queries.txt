create table sets (
                      id uuid not null primary key,
                      exercise_session_id uuid not null references exercise_session(id),
                      set_number integer,
                      weight numeric(3,2) not null,
                      reps numeric (3) not null,
                      difficulty varchar(50) not null,
                      created_at timestamp,
                      updated_at timestamp,
                      constraint chk_difficulty check (difficulty in ('EASY', 'MEDIUM', 'HARD') )
);

create table exercise_session (
                                  id uuid not null primary key,
                                  exercise_id uuid not null references exercise(id),
                                  user_id uuid not null references users(id),
                                  session_id uuid not null references sessions(id),
                                  completed boolean
);

create table sessions (
                          id uuid not null primary key,
                          user_id uuid not null references users(id),
                          reference_id uuid references sessions(id),
                          is_plan boolean,
                          date timestamp,
                          completed boolean
);

create table exercise (
                          id uuid not null primary key,
                          title varchar(100) not null,
                          description varchar(255) not null,
                          url varchar(255) not null
);

create table users (
                       id uuid not null primary key,
                       training_session_id uuid references sessions(id),
                       email varchar(50) not null,
                       name varchar(100) not null,
                       password varchar(255) not null,
                       role varchar(50) not null,
                       created_at timestamp
);

create table training_plan_day (
    id uuid not null primary key,
    training_plan_id uuid not null references training_plan(id),
    day int2,
    training_plan_session_id uuid references sessions(id)
);

create table training_plan (
    id uuid not null primary key,
    user_id uuid not null references users(id),
    created_at timestamp
)



